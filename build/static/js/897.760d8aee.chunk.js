!function(){"use strict";function n(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function r(r,e){if(r){if("string"===typeof r)return n(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(r,e):void 0}}function e(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,i,o,a,u=[],c=!0,f=!1;try{if(o=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(t=o.call(e)).done)&&(u.push(t.value),u.length!==r);c=!0);}catch(l){f=!0,i=l}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}(n,e)||r(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,e){var t="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=r(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return u=n.done,n},e:function(n){c=!0,a=n},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw a}}}}var i=function(n){return n[n.BLANK=0]="BLANK",n[n.STAR=1]="STAR",n[n.X=2]="X",n}({});function o(n){var r=n.cells,o=n.size,a=n.starCount,u=n.rows,c=n.columns,s=n.groups,v=function(){var n,a=t(r.entries());try{for(a.s();!(n=a.n()).done;){var f=e(n.value,2),l=f[0];if(f[1]===i.STAR){var v=d(o,l).find((function(n){return r[n]===i.STAR}));if(void 0!==v)return{indices:[l,v],message:"Stars cannot be next to each other."}}}}catch(p){a.e(p)}finally{a.f()}var g=h(u,"row");if(g)return g;if(g=h(c,"column"),g)return g;if(g=h(s,"group"),g)return g;if(g=y(u,"row"),g)return g;if(g=y(c,"column"),g)return g;if(g=y(s,"group"),g)return g}();return v||{};function h(n,e){var i,o=t(n);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(f(u,r)>a)return{indices:u,message:"This ".concat(e," contains too many stars.")}}}catch(c){o.e(c)}finally{o.f()}}function y(n,e){var o,u=t(n);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(a-f(c,r)>l(c,r,i.BLANK))return{indices:c,message:"This ".concat(e," contains too few blank spaces.")}}}catch(s){u.e(s)}finally{u.f()}}}function a(n){var r=n.size,e=n.starCount,o=n.rows,a=n.columns,l=n.groups,s=n.cellIndexToGroupIndex,v=n.cells;n.cells=v.slice();var h=n.cells,g=[],p=function v(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(console.log("In findSolutionHelper",p),c(p,l,h,e))return;if(void 0!==u(n))return;if(console.log("After logic"),function(n){for(var r=n.cells,e=n.size,o=n.starCount,a=n.rows,u=n.columns,c=n.groups,l=0;l<r.length;l++)if(r[l]===i.STAR&&d(e,l).find((function(n){return r[n]===i.STAR})))return!1;var s,v=t(a);try{for(v.s();!(s=v.n()).done;){if(f(s.value,r)!=o)return!1}}catch(m){v.e(m)}finally{v.f()}var h,y=t(u);try{for(y.s();!(h=y.n()).done;){if(f(h.value,r)!=o)return!1}}catch(m){y.e(m)}finally{y.f()}var g,p=t(c);try{for(p.s();!(g=p.n()).done;){if(f(g.value,r)!=o)return!1}}catch(m){p.e(m)}finally{p.f()}return!0}(n))return h;for(var m=p;m<h.length&&!c(m,l,h,e);m++)if(h[m]===i.BLANK&&!d(r,m).find((function(n){return h[n]===i.STAR}))&&f(l[s[m]],h)!==e){var b=y(m,r),A=b.x,w=b.y;if(f(o[w],h)!==e&&f(a[A],h)!==e){var S=h.slice();h[m]=i.STAR,g.push(m),console.log("guesses,",g.map((function(n){var e=y(n,r);return[n,e.x,e.y]})));var T=v(m+1);if(T)return T;if(h=S,n.cells=h,h[m]=i.X,g.pop(),void 0!==u(n))return}}}();if(n.cells=v,console.log("After solution helper, res:",p),p)return p}function u(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=n.cells;n.cells=e.slice();try{for(;;){var t=s(n,r);if(!h(n.cells,t,!0))return;var i=o(n);if(i.message)return console.log("Found error",i),i}}finally{n.cells=e}}function c(n,r,e,i){var o,a=t(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(f(u,e)!==i&&u[u.length-1]<n)return console.log("cutoff: ".concat(n," group: ").concat(u)),!0}}catch(c){a.e(c)}finally{a.f()}return!1}function f(n,r){return l(n,r,i.STAR)}function l(n,r,e){return n.filter((function(n){return r[n]===e})).length}function s(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.cells,a=n.size,c=n.starCount,f=n.rows,l=n.columns,s=n.groups,h=n.cellIndexToGroupIndex,p=[],b=function(n){return m(0,Math.pow(n,2)).map((function(r){return d(n,r)}))}(a),A=tn(s,"group");if(A)return A;if(A=tn(f,"row"))return A;if(A=tn(l,"column"))return A;var w,S=t(o.entries());try{for(S.s();!(w=S.n()).done;){var T=e(w.value,2),x=T[0],I=T[1];if(I!==i.X&&I===i.STAR){var X=d(a,x).filter((function(n){return o[n]!==i.X}));if(0!==X.length)return{indices:X,type:i.X,message:"Stars cannot be placed in cells neighbouring a star (including diagonals)."}}}}catch(sn){S.e(sn)}finally{S.f()}if(A=on(s,"group"))return A;if(A=on(f,"row"))return A;if(A=on(l,"column"))return A;var N,B=t(o.entries());try{for(B.s();!(N=B.n()).done;){var K=e(N.value,2),L=K[0];if(K[1]!==i.X){var R=en(L);if(R)return{indices:[L],otherIndices:R,type:i.X,message:"A star cannot be placed here. Otherwise, not enough stars can be placed within this group."}}}}catch(sn){B.e(sn)}finally{B.f()}var k,O=t(o.entries());try{for(O.s();!(k=O.n()).done;){var j=e(k.value,2),z=j[0];if(j[1]===i.BLANK){var M=d(a,z).filter((function(n){return o[n]===i.BLANK})),C=new Set(M.map((function(n){return h[n]})));if(A=un(z,M,Array.from(C).map((function(n){return s[n]})),"group"))return A;var E=new Set(M.map((function(n){return y(n,a).y})));if(A=un(z,M,Array.from(E).map((function(n){return f[n]})),"row"))return A;var G=new Set(M.map((function(n){return y(n,a).x})));if(A=un(z,M,Array.from(G).map((function(n){return l[n]})),"column"))return A}}}catch(sn){O.e(sn)}finally{O.f()}if(A=cn(s,"group"))return A;if(A=cn(f,"row"))return A;if(A=cn(l,"column"))return A;for(var U=0,q=m(1,a);U<q.length;U++)for(var F=q[U],H=0,W=m(0,a-F+1);H<W.length;H++){var $=W[H];if(A=an(f.slice($,$+F),"row"))return A;if(A=an(l.slice($,$+F),"column"))return A}var D=m(0,a-2+1).map((function(n){return f.slice(n,n+2).flat()}));if(A=cn(D,"row",2*c))return A;var J=m(0,a-2+1).map((function(n){return l.slice(n,n+2).flat()}));if(A=cn(J,"column",2*c))return A;if(A=ln(D,"row",2*c))return A;if(A=ln(J,"column",2*c))return A;if(A=ln(s,"group",2*c))return A;if(r>0){var P,Q=t(o.entries());try{for(Q.s();!(P=Q.n()).done;){var V=e(P.value,2),Y=V[0];if(V[1]===i.BLANK){o[Y]=i.STAR;var Z=u(n,r-1);if(o[Y]=i.BLANK,Z)return{indices:[Y],type:i.X,message:"A star cannot be placed here. Otherwise, a rule violation will eventually occur."}}}}catch(sn){Q.e(sn)}finally{Q.f()}}return{message:"Unknown"};function _(n){if(o[n]!==i.BLANK)return!1;if(b[n].some((function(n){return o[n]===i.STAR})))return!1;if(0===v(o,s[h[n]],c))return!1;var r=y(n,a),e=r.x,t=r.y;return 0!==v(o,f[t],c)&&0!==v(o,l[e],c)}function nn(n){var r,e=t(n);try{for(e.s();!(r=e.n()).done;){var i=r.value;if(!_(i))return!1;if(b[i].some((function(r){return n.includes(r)})))return!1}}catch(sn){e.e(sn)}finally{e.f()}return!0}function rn(n){var r,e=d(a,n[0]),i=t(n.slice(1));try{var o=function(){var n=r.value,t=d(a,n);e=e.filter((function(n){return t.includes(n)}))};for(i.s();!(r=i.n()).done;)o()}catch(sn){i.e(sn)}finally{i.f()}return e}function en(n){var r,e=d(a,n),u=t(s);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(0!==(c=c.filter((function(n){return o[n]===i.BLANK}))).length&&c.every((function(n){return e.includes(n)})))return c}}catch(sn){u.e(sn)}finally{u.f()}}function tn(n,r){var e,a=t(n);try{for(a.s();!(e=a.n()).done;){var u=e.value,f=u.filter((function(n){return o[n]===i.BLANK}));if(0!==f.length&&(nn(f)&&v(o,u,c)===f.length))return{indices:f,type:i.STAR,message:"The remaining stars in this ".concat(r," can only be placed here.")}}}catch(sn){a.e(sn)}finally{a.f()}}function on(n,r){var e,a=t(n);try{for(a.s();!(e=a.n()).done;){var u=e.value;if(0===v(o,u,c)){var f=u.filter((function(n){return o[n]===i.BLANK}));if(0===f.length)continue;return{indices:f,type:i.X,message:"No more stars can be placed in this ".concat(r,".")}}}}catch(sn){a.e(sn)}finally{a.f()}}function an(n,r){var e=n.flat().filter((function(n){return o[n]!==i.X})),a=function(n,r){var e,i=new Set,o=t(n);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(i.add(h[a]),i.size>r)return}}catch(sn){o.e(sn)}finally{o.f()}return Array.from(i)}(e,n.length);if("undefined"!==typeof a){var u=a.map((function(n){return s[n]})).flat().filter((function(n){return!e.includes(n)&&o[n]!==i.X}));if(0!==u.length){var c=n.length>1?"these groups":"this group",f=n.length>1?"these ".concat(r,"s"):"this ".concat(r);return{indices:u,otherIndices:e,type:i.X,message:"Stars cannot be placed in ".concat(c," outside ").concat(f,". Otherwise, there will not be enough stars in ").concat(f,".")}}}}function un(n,r,e,u){var f,l=t(e);try{for(l.s();!(f=l.n()).done;){var s=f.value,h=s.filter((function(n){return o[n]===i.BLANK&&!r.includes(n)}));if(!(g(a,h).length>=v(o,s,c)))return{indices:[n],otherIndices:s,type:i.X,message:"A star cannot be placed here. Otherwise the indicated ".concat(u," will not have enough room for stars.")}}}catch(sn){l.e(sn)}finally{l.f()}}function cn(n,r){var e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,f=t(n);try{for(f.s();!(e=f.n()).done;){var l=e.value,s=l.filter((function(n){return o[n]===i.BLANK})),h=g(a,s),d=v(o,l,u);if(h.length===d){h.forEach((function(n){return fn(n)}));for(var y=d>1,p=u>c,m="There can be at most 1 star in each 2x2 block. When the remaining space \n                within ".concat(p?"these":"this","  ").concat(r).concat(p?"s":""," is split into blocks at most 2x2 in size, \n                there ").concat(y?"are":"is"," only ").concat(d," block").concat(y?"s":"",", \n                which is equal to the number of remaining stars. \n                Therefore, each block must contain a star.").replaceAll("\n",""),b=0,A=h;b<A.length;b++){var w=A[b];if(1===w.length&&_(w[0]))return{indices:w,otherIndices:l,type:i.STAR,message:m+" This block only has one space, so it must be a star."};var S=rn(w).filter((function(n){return o[n]!=i.X}));if(0!==S.length)return{indices:S,otherIndices:s,type:i.X,message:m+" If stars are placed here, there will be no place to put a star in this block."}}}}}catch(sn){f.e(sn)}finally{f.f()}}function fn(n){if(!(p.findIndex((function(r){return r.length<=n.length&&r.every((function(r){return n.includes(r)}))}))>-1)){var r=p.findIndex((function(r){return r.length>n.length&&n.every((function(n){return r.includes(n)}))}));if(r>-1)return p[r]=n;p.push(n)}}function ln(n,r){var e,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,u=t(n);try{var f=function(){var n=e.value;if(1!==v(o,n,a))return"continue";var t=n.filter((function(n){return o[n]===i.BLANK})),u=p.find((function(r){return r.every((function(r){return n.includes(r)}))}));if(void 0===u)return"continue";var f=t.filter((function(n){return!u.includes(n)}));if(0===f.length)return"continue";var l=a>c;return{v:{indices:f,otherIndices:t,type:i.X,message:"There can be at most 1 star in each 2x2 block. The indicated block is confirmed to have a star \n                            from splitting some columns, rows, or groups into blocks, so we can exclude the spaces within \n                            ".concat(l?"these":"this"," ").concat(r).concat(l?"s":""," outside the block .").replaceAll("\n","")}}};for(u.s();!(e=u.n()).done;){var l=f();if("continue"!==l&&"object"===typeof l)return l.v}}catch(sn){u.e(sn)}finally{u.f()}}}function v(n,r,e){return e-r.filter((function(r){return n[r]===i.STAR})).length}function h(n,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?n:n.slice(),t=r.indices,i=r.type;if(void 0!==t&&0!==t.length&&void 0!==i)return t.forEach((function(n){return e[n]=i})),e}function d(n,r){var t=y(r,n),i=t.x,o=t.y;return[[i-1,o-1],[i,o-1],[i+1,o-1],[i-1,o],[i+1,o],[i-1,o+1],[i,o+1],[i+1,o+1]].filter((function(r){var t=e(r,2),i=t[0],o=t[1];return i>=0&&i<n&&o>=0&&o<n})).map((function(r){var t=e(r,2);return function(n,r,e){return r*e+n}(t[0],t[1],n)}))}function y(n,r){return{x:n%r,y:Math.floor(n/r)}}function g(n,r){var e,i=[],o=t(r);try{for(o.s();!(e=o.n()).done;){var a,u=e.value,c=!1,f=t(i);try{for(f.s();!(a=f.n()).done;){var l=a.value;if(p(n,u,l)){l.push(u),c=!0;break}}}catch(s){f.e(s)}finally{f.f()}c||i.push([u])}}catch(s){o.e(s)}finally{o.f()}return i}function p(n,r,e){var t=y(r,n),i=t.x,o=t.y;return e.every((function(r){var e=y(r,n),t=e.x,a=e.y;return Math.abs(i-t)<=1&&Math.abs(o-a)<=1}))}function m(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array.from({length:(r-1-n)/e+1},(function(r,t){return n+t*e}))}self.onmessage=function(n){self.postMessage(a(n.data))}}();
//# sourceMappingURL=897.760d8aee.chunk.js.map